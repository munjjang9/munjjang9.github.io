---
layout: post
title: 교차
author: munjjang9
tags: [Math]
date: 2025-01-01 21:00 +0900
categories: [Game Development]
toc: true
---

## Intersection
---
게임 프로그래밍에서 교차는 많은 곳에서 사용된다.

점과 선, 점과 면, 선과 선, 선과 면, 면과 면의 교차(충돌)를 통해 많은 것들을 검출해낼 수 있기 때문이다.

예를 들어 자신이 바라보는 방향에 무엇이 있는지를 검출할 수도 있고, 마우스의 위치에 어떤 물체가 있는지도 검출이 가능하다.

가장 많이 쓰이는 것은 선과 면의 교차이지만, 겸사겸사 다른 교차도 함께 보려고 한다.

<br>

점과의 교차는 점이 해당 직선, 평면 위에 존재하는가를 판단한다.

### 점과 선의 교차
---

점과 선의 교차는 두가지 경우만 존재한다.

점이 직선 위에 존재하는가, 존재하지 않는가가.

이는 간단히 직선의 방정식에 해당 점의 좌표를 대입함으로써 검출이 가능하다.

<br>

### 점과 면의 교차
---
점과 면의 교차 역시 평면 위에 점이 존재하는지의 여부 두 가지로 나뉜다.

점이 평면 위에 존재하는 지를 알기 위해서는 평면의 방정식에 점을 대입하는 방법을 사용해야한다.

평면의 방정식을 구하기 위해서는 두 점과, 그 중 한 점에서의 법선 벡터를 알아야 한다.

두 점 P0(x0, y0, z0)와 P1(x1, y1, z1)이 한 평면 위에 존재하고,

P0에서의 법선 벡터 n을 나타내는 식을 n = Ai + Bj + Ck라고 하자.

이 때 평면을 나타내는 방정식은 법선 벡터와 벡터 P P0 의 내적을 통해 구할 수 있다.

(Ai + Bj + Ck) • { (x - x0)i + (y - y0)j + (z - z0)k }
 = A(x - x0) + B(y - y0) + C(z - z0)

<br>

### 선과 선의 교차
---
선과 선의 교차는 평면 상에서는 평행과 교차, 일치 세 가지 경우,

공간 상에서는 평행, 교차, 일치, 꼬인 위치 이렇게 4 가지 경우가 있다.

평행은 각 직선의 기울기가 동일한 경우, 일치는 식 자체가 동일한 경우이다.

교차는 한 점에서 만나는 경우, 꼬인 위치는 기울기가 다르지만 어디에서도 만나지 않는 경우이다.

